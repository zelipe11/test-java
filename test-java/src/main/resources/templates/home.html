<!DOCTYPE html>
<html>
<head>
    <title>Cadastro de Empresa ou Cliente</title>
</head>
<body>
    <h1>Escolha o tipo de cadastro</h1>
    <label>
        <input type="radio" name="cadastro" value="empresa" id="empresaRadio"> Empresa
    </label>
    <label>
        <input type="radio" name="cadastro" value="cliente" id="clienteRadio"> Cliente
    </label>

    <div id="cadastroEmpresa" style="display: none;">
        <h2>Cadastro de Empresa</h2>
        <form>
            Nome da Empresa: <input type="text" name="nomeEmpresa"><br><br>
            CNPJ: <input type="text" name="cnpj"><br><br>
            Saldo: <input type="text" name="saldo" id="saldoEmpresa" oninput="calcularTaxa()"><br><br>
            <button type="button" onclick="irParaPagamento()">Ir para Pagamento</button>
        </form>
        <p id="saldoComTaxa"></p>
    </div>

    <div id="cadastroCliente" style="display: none;">
        <h2>Cadastro de Cliente</h2>
        <form>
            Nome do Cliente: <input type="text" name="nomeCliente"><br><br>
            CPF: <input type="text" name="cpf"><br><br>
        </form>
    </div>

    <script>
        const empresaRadio = document.getElementById('empresaRadio');
        const clienteRadio = document.getElementById('clienteRadio');
        const cadastroEmpresa = document.getElementById('cadastroEmpresa');
        const saldoEmpresaInput = document.getElementById('saldoEmpresa');
        const saldoComTaxa = document.getElementById('saldoComTaxa');

        function calcularTaxa() {
            const saldo = parseFloat(saldoEmpresaInput.value);
            const taxa = saldo * 0.1;
            const saldoTotal = saldo + taxa;
            saldoComTaxa.textContent = `Valor a ser pago.: R$ ${saldoTotal.toFixed(2)}`;
        }

		function irParaPagamento() {
		    const nomeEmpresa = document.querySelector('#cadastroEmpresa input[name="nomeEmpresa"]').value;
		    const cnpj = document.querySelector('#cadastroEmpresa input[name="cnpj"]').value;
		    const saldo = parseFloat(document.querySelector('#cadastroEmpresa input[name="saldo"]').value);
		    const taxa = saldo * 0.1;
		    const saldoComTaxa = saldo + taxa;
		
		    sessionStorage.setItem('nomeEmpresa', nomeEmpresa);
		    sessionStorage.setItem('cnpj', cnpj);
		    sessionStorage.setItem('saldo', saldo);
		    sessionStorage.setItem('saldoComTaxa', saldoComTaxa);
		
		    window.location.href = 'checkout.html';
		}
		
		function voltarParaCadastro() {
		    window.location.href = 'cadastro.html';
		}


        function irParaPagamento() {
            alert("Redirecionando para a pÃ¡gina de pagamento");
        }

        empresaRadio.addEventListener('change', () => {
            if (empresaRadio.checked) {
                cadastroEmpresa.style.display = 'block';
                cadastroCliente.style.display = 'none';
            }
        });

        clienteRadio.addEventListener('change', () => {
            if (clienteRadio.checked) {
                cadastroCliente.style.display = 'block';
                cadastroEmpresa.style.display = 'none';
            }
        });
    </script>
</body>
</html>
